# 基于SM3的多熵源真随机数发生器 

项目构建中...



| 熵源种类 | 熵源                     | 收集方式                                | 采样量化器                                                   | 采样位数bit | 单次输出熵位数bit |
| -------- | ------------------------ | --------------------------------------- | ------------------------------------------------------------ | ----------- | ----------------- |
| 热噪声   | 电压抖动                 | 经过放大电路                            | STM32内部ADC * 16次轮询                                      | 12          | 2*16              |
| 物理噪声 | 姿态角抖动*3维度         | 姿态角传感器                            | ATK-IMU901模块                                               | 16*3        | 2*3               |
| 物理噪声 | 角加速度抖动*3维度       | 高精度的陀螺仪                          | ATK-IMU901模块                                               | 16*3        | 2*3               |
| 物理噪声 | 加速度抖动*3维度         | 加速度传感器                            | ATK-IMU901模块                                               | 16*3        | 2*3               |
| 物理噪声 | 磁感应强度抖动*3维度     | 霍尔传感器                              | ATK-IMU901模块                                               | 16*3        | 2*3               |
| 物理噪声 | 气压抖动                 | 气压计                                  | ATK-IMU901模块                                               | 32          | 1                 |
| 热噪声   | 大气温度抖动             | 气温传感器                              | ATK-IMU901模块                                               | 16          | 1                 |
| 热噪声   | 电压抖动                 | ATK-IMU901模块可编程端口-配置成模拟输入 | ATK-IMU901模块                                               | 1*3         | 1*3               |
| 量子过程 | 微量放射性同位素镅Am-241 | 盖革米勒管收集信号经过外部电路放大      | 盖革计数器事件的“三阶时间差”方法，配合单片机内部定时器（一种带有熵监控功能的软件随机数发生器_刘攀） | 暂未完成    | 暂未完成          |



| 下位机OLED信息    | 说明                                   |
| ----------------- | -------------------------------------- |
| `:( msg time out` | 等待上位机消息超时                     |
| `:(   NAK ERROR ` | NAK错误                                |
| `[TRNG]host stop` | 上位机主动终止程序                     |
| `:(   PKC ERROR ` | 认证错误                               |
| `:(   TRNG ERROR` | 真随机数错误（如上位机判断熵不再随机） |
| `:(    PC ERROR ` | 上位机程序错误                         |
| `:(  udef ERROR ` | 未定义错误（常见于串口传输出错）       |



| 帧头 1 | 帧头 2 | 帧 ID  | 数据长度 | 数据   | 校验和 |
| ------ | ------ | ------ | -------- | ------ | ------ |
| 1 字节 | 1 字节 | 1 字节 | 1 字节   | N 字节 | 1 字节 |
| 0x55   | 0x55   | ID     | N        | DATA   | SUM    |



## 下位机

建议 VSCode 插件 [Keil Assistant - Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=CL.keil-assistant)

